# Comind-Ops Platform Applications Configuration
# This file defines all applications and their environment-specific settings
# Used by ArgoCD ApplicationSet for GitOps deployment

# Global Git repository configuration
repository:
  url: https://github.com/comind-pro/comind-ops
  branches:
    dev: main
    stage: main  
    prod: main
  path: k8s/apps

# Infrastructure services configuration
infrastructure:
  repository:
    url: https://github.com/comind-pro/comind-ops
    branch: main
    path: k8s
  services:
    - name: base
      path: k8s/base
      description: "Base Kubernetes resources (RBAC, namespaces, policies)"
    - name: platform
      path: k8s/platform
      description: "Platform services (ElasticMQ, Registry, etc.)"

# Applications
applications:
  # Platform Monitoring Dashboard
  monitoring-dashboard:
    description: "Platform monitoring dashboard and landing page with service status, admin details, and quick access links"
    team: platform
    port: 8080
    repository:
      url: https://github.com/comind-pro/comind-ops
      path: k8s/apps/monitoring-dashboard
    environments:
      dev:
        enabled: true
        branch: main
        hostname: monitoring.dev.127.0.0.1.nip.io
        replicas: 1
        resources:
          requests:
            cpu: 50m
            memory: 64Mi
          limits:
            cpu: 100m
            memory: 128Mi
        database:
          enabled: false  # Dashboard doesn't need persistent storage
        monitoring:
          enabled: true
      stage:
        enabled: false
        branch: main
        hostname: monitoring.stage.comind.pro
        replicas: 1
      prod:
        enabled: false
        branch: main
        hostname: monitoring.comind.pro
        replicas: 1
